{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "This file defines a React component called 'Preview' that displays a styled image preview, allows saving the image locally, and sharing it via the Web Share API. It manages styling, image generation, and user interactions related to previewing and exporting styled images.", "external_files": ["../../context/StylerContext", "../../utils/imageUtils", "./Preview.css"], "external_methods": ["useStyler", "applyImageStyling", "generateShareableImage"], "published": ["Preview"], "classes": [], "methods": [{"name": "Preview", "description": "React functional component for displaying and interacting with a styled image preview."}], "calls": ["useStyler", "applyImageStyling", "generateShareableImage", "document.createElement", "link.click", "fetch", "File", "navigator.share"], "search-terms": ["Preview React component", "styled image download", "share styled image", "useRef", "useEffect", "StylerContext", "generateShareableImage", "applyImageStyling"], "state": 2, "file_id": 24, "knowledge_revision": 91, "git_revision": "c544bfda193e1b58093dae1c5cb98c8b9cdad6dc", "revision_history": [{"49": "cd3c1a3b441d4dc118aa1c393fcf0c216f727975"}, {"71": "f7e50bbb818df26fe49a6638928e4fb840f248e3"}, {"77": "c8bad0ab74a9593f3a2991b5bd6103cb3bd2c196"}, {"90": "ce1d343c261f5ceea3ffa39c5a32215c097d6198"}, {"91": "c544bfda193e1b58093dae1c5cb98c8b9cdad6dc"}], "ctags": [{"_type": "tag", "name": "Preview", "path": "/home/kavia/workspace/code-generation/snapstyler-98956-98961/snapstyler_container/src/components/Preview/index.js", "pattern": "/^const Preview = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "blob", "path": "/home/kavia/workspace/code-generation/snapstyler-98956-98961/snapstyler_container/src/components/Preview/index.js", "pattern": "/^          const blob = await (await fetch(imageUrl)).blob();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "file", "path": "/home/kavia/workspace/code-generation/snapstyler-98956-98961/snapstyler_container/src/components/Preview/index.js", "pattern": "/^          const file = new File([blob], `styled-${uploadedImage.name || 'screenshot'}.png`, { $/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleSave", "path": "/home/kavia/workspace/code-generation/snapstyler-98956-98961/snapstyler_container/src/components/Preview/index.js", "pattern": "/^          onClick={handleSave}$/", "language": "JavaScript", "kind": "field", "scope": "onClick", "scopeKind": "class"}, {"_type": "tag", "name": "handleSave", "path": "/home/kavia/workspace/code-generation/snapstyler-98956-98961/snapstyler_container/src/components/Preview/index.js", "pattern": "/^  const handleSave = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleShare", "path": "/home/kavia/workspace/code-generation/snapstyler-98956-98961/snapstyler_container/src/components/Preview/index.js", "pattern": "/^          onClick={handleShare}$/", "language": "JavaScript", "kind": "field", "scope": "onClick", "scopeKind": "class"}, {"_type": "tag", "name": "handleShare", "path": "/home/kavia/workspace/code-generation/snapstyler-98956-98961/snapstyler_container/src/components/Preview/index.js", "pattern": "/^  const handleShare = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "imageUrl", "path": "/home/kavia/workspace/code-generation/snapstyler-98956-98961/snapstyler_container/src/components/Preview/index.js", "pattern": "/^      const imageUrl = await generateShareableImage(previewRef.current);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "isSaving", "path": "/home/kavia/workspace/code-generation/snapstyler-98956-98961/snapstyler_container/src/components/Preview/index.js", "pattern": "/^          disabled={isSaving}$/", "language": "JavaScript", "kind": "field", "scope": "disabled", "scopeKind": "class"}, {"_type": "tag", "name": "link", "path": "/home/kavia/workspace/code-generation/snapstyler-98956-98961/snapstyler_container/src/components/Preview/index.js", "pattern": "/^      const link = document.createElement('a');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "previewRef", "path": "/home/kavia/workspace/code-generation/snapstyler-98956-98961/snapstyler_container/src/components/Preview/index.js", "pattern": "/^  const previewRef = useRef(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "uploadedImage", "path": "/home/kavia/workspace/code-generation/snapstyler-98956-98961/snapstyler_container/src/components/Preview/index.js", "pattern": "/^            src={uploadedImage.dataUrl} $/", "language": "JavaScript", "kind": "field", "scope": "src", "scopeKind": "class"}], "filename": "/home/kavia/workspace/code-generation/snapstyler-98956-98961/snapstyler_container/src/components/Preview/index.js", "hash": "4c183178e290f8c238b7642e39c29f45", "format-version": 4, "code-base-name": "default", "fields": [{"name": "onClick={handleSave}", "scope": "onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={handleShare}", "scope": "onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={isSaving}", "scope": "disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "src={uploadedImage.dataUrl}", "scope": "src", "scopeKind": "class", "description": "unavailable"}]}